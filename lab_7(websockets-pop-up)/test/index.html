<html>
 <head>
  <title>Примеры</title>
  <link rel="stylesheet" href="style.css" type="text/css"/>
  <meta charset="utf8">
  <script>

  let socket = new WebSocket("ws://151.248.113.144:8765");

  socket.onopen = function(e) {
    //alert("[open] Соединение установлено");
    //alert("Отправляем данные на сервер");
    let name = prompt("Введите имя");
    socket.send(name);
  };

  socket.onmessage = function(response) {
    alert(`Здравствуй ${response.data}!`);
  };

  socket.onclose = function(response) {
    if (response.wasClean) {
      console.log('Соединение закрыто чисто');
    }
    
    // if (response.wasClean) {
    //   alert(`[close] Соединение закрыто чисто, код=${response.code} причина=${response.reason}`);
    // } else {
    //   // например, сервер убил процесс или сеть недоступна
    //   // обычно в этом случае event.code 1006
    //   alert('[close] Соединение прервано');
    // }
  };

  socket.onerror = function(error) {
    alert(`[error] ${error.message}`);
  };

  </script>
  </head>
  <body>
 

  </body>

</html>